--- a/engine.sql
+++ b/engine.sql
@@ -230,7 +230,8 @@
     SELECT count(*) > 0
     FROM pg_stat_activity
     WHERE application_name = 'Airlines processor'
-      AND state != 'idle';
+      AND state != 'idle'
+      AND pid <> pg_backend_pid();
 END;

